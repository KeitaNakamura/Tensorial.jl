<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Operations · Tensorial.jl</title><meta name="title" content="Operations · Tensorial.jl"/><meta property="og:title" content="Operations · Tensorial.jl"/><meta property="twitter:title" content="Operations · Tensorial.jl"/><meta name="description" content="Documentation for Tensorial.jl."/><meta property="og:description" content="Documentation for Tensorial.jl."/><meta property="twitter:description" content="Documentation for Tensorial.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Tensorial.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../Getting started/">Getting started</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../Constructors/">Constructing tensors</a></li><li class="is-active"><a class="tocitem" href>Operations</a><ul class="internal"><li><a class="tocitem" href="#Basic-operations"><span>Basic operations</span></a></li><li><a class="tocitem" href="#Tensor-operations"><span>Tensor operations</span></a></li><li><a class="tocitem" href="#Symmetry"><span>Symmetry</span></a></li><li><a class="tocitem" href="#Rotation"><span>Rotation</span></a></li><li><a class="tocitem" href="#Continuum-mechanics"><span>Continuum mechanics</span></a></li></ul></li><li><a class="tocitem" href="../Voigt form/">Voigt Form</a></li><li><a class="tocitem" href="../Automatic differentiation/">Automatic differentiation</a></li><li><a class="tocitem" href="../Quaternion/">Quaternion</a></li></ul></li><li><a class="tocitem" href="../Benchmarks/">Benchmarks</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Operations</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Operations</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/KeitaNakamura/Tensorial.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/main/docs/src/Operations.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Operations"><a class="docs-heading-anchor" href="#Operations">Operations</a><a id="Operations-1"></a><a class="docs-heading-anchor-permalink" href="#Operations" title="Permalink"></a></h1><h2 id="Basic-operations"><a class="docs-heading-anchor" href="#Basic-operations">Basic operations</a><a id="Basic-operations-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-operations" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LinearAlgebra.cross" href="#LinearAlgebra.cross"><code>LinearAlgebra.cross</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cross(x::Vec, y::Vec)
x × y</code></pre><p>Compute the cross product between two vectors. The infix operation <code>x × y</code> (where <code>×</code> can be typed by <code>\times&lt;tab&gt;</code>) is a synonym for <code>cross(x, y)</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; x = rand(Vec{3})
3-element Vec{3, Float64}:
 0.32597672886359486
 0.5490511363155669
 0.21858665481883066

julia&gt; y = rand(Vec{3})
3-element Vec{3, Float64}:
 0.8942454282009883
 0.35311164439921205
 0.39425536741585077

julia&gt; x × y
3-element Vec{3, Float64}:
  0.13928086435138393
  0.0669520417303531
 -0.37588028973385323</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L539-L566">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LinearAlgebra.norm" href="#LinearAlgebra.norm"><code>LinearAlgebra.norm</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">norm(::AbstractTensor)</code></pre><p>Compute norm of a tensor.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; x = rand(Mat{3, 3})
3×3 Tensor{Tuple{3, 3}, Float64, 2, 9}:
 0.325977  0.894245  0.953125
 0.549051  0.353112  0.795547
 0.218587  0.394255  0.49425

julia&gt; norm(x)
1.8223398556552728</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L313-L329">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LinearAlgebra.normalize" href="#LinearAlgebra.normalize"><code>LinearAlgebra.normalize</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">normalize(x)</code></pre><p>Compute <code>x / norm(x)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L332-L336">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LinearAlgebra.tr" href="#LinearAlgebra.tr"><code>LinearAlgebra.tr</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">tr(A)</code></pre><p>Compute the trace of a square tensor <code>A</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; A = rand(Mat{3,3})
3×3 Tensor{Tuple{3, 3}, Float64, 2, 9}:
 0.325977  0.894245  0.953125
 0.549051  0.353112  0.795547
 0.218587  0.394255  0.49425

julia&gt; tr(A)
1.1733382401532275</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L339-L355">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.inv" href="#Base.inv"><code>Base.inv</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">inv(A)</code></pre><p>Compute the inverse of a tensor <code>A</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; x = rand(Mat{3,3})
3×3 Tensor{Tuple{3, 3}, Float64, 2, 9}:
 0.325977  0.894245  0.953125
 0.549051  0.353112  0.795547
 0.218587  0.394255  0.49425

julia&gt; inv(x) * x ≈ one(x)
true

julia&gt; A = rand(SymmetricFourthOrderTensor{3});

julia&gt; A ⊡₂ inv(A) ≈ one(A)
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/inv.jl#L73-L94">source</a></section></article><h2 id="Tensor-operations"><a class="docs-heading-anchor" href="#Tensor-operations">Tensor operations</a><a id="Tensor-operations-1"></a><a class="docs-heading-anchor-permalink" href="#Tensor-operations" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Tensorial.contract" href="#Tensorial.contract"><code>Tensorial.contract</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">contract(x, y, ::Val{N})</code></pre><p>Conduct contraction of <code>N</code> inner indices. For example, <code>N=2</code> contraction for third-order tensors <span>$A_{ij} = B_{ikl} C_{klj}$</span> can be computed as follows:</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; B = rand(Tensor{Tuple{3,3,3}});

julia&gt; C = rand(Tensor{Tuple{3,3,3}});

julia&gt; A = contract(B, C, Val(2))
3×3 Tensor{Tuple{3, 3}, Float64, 2, 9}:
 3.70978  2.47156  3.91807
 2.90966  2.30881  3.25965
 1.78391  1.38714  2.2079</code></pre><p>The following infix operators are also available for specific contractions:</p><ul><li><code>x ⊡ y</code> (where <code>⊡</code> can be typed by <code>\boxdot&lt;tab&gt;</code> ): <code>contract(x, y, Val(1))</code></li><li><code>x ⊡₂ y</code> (where <code>⊡₂</code> can be typed by <code>\boxdot&lt;tab&gt;\_2&lt;tab&gt;</code> ): <code>contract(x, y, Val(2))</code></li><li><code>x ⊗ y</code> (where <code>⊗</code> can be typed by <code>\otimes&lt;tab&gt;</code> ): <code>contract(x, y, Val(0))</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L52-L77">source</a></section><section><div><pre><code class="language-julia hljs">contract(x, y, Val(xdims), Val(ydims))</code></pre><p>Perform contraction over the given dimensions.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; A = rand(Mat{3,3})
3×3 Tensor{Tuple{3, 3}, Float64, 2, 9}:
 0.325977  0.894245  0.953125
 0.549051  0.353112  0.795547
 0.218587  0.394255  0.49425

julia&gt; B = rand(Mat{3,3})
3×3 Tensor{Tuple{3, 3}, Float64, 2, 9}:
 0.748415  0.00744801  0.682533
 0.578232  0.199377    0.956741
 0.727935  0.439243    0.647855

julia&gt; contract(A, B, Val(1), Val(2)) ≈ @einsum A[k,i] * B[j,k]
true

julia&gt; contract(A, B, Val((1,2)), Val((2,1))) ≈ @einsum A[i,j] * B[j,i]
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L146-L171">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCore.tensor" href="#TensorCore.tensor"><code>TensorCore.tensor</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">tensor(x::AbstractTensor, y::AbstractTensor)
x ⊗ y</code></pre><p>Compute tensor product such as <span>$A_{ij} = x_i y_j$</span>. <code>x ⊗ y</code> (where <code>⊗</code> can be typed by <code>\otimes&lt;tab&gt;</code>) is a synonym for <code>tensor(x, y)</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; x = rand(Vec{3})
3-element Vec{3, Float64}:
 0.32597672886359486
 0.5490511363155669
 0.21858665481883066

julia&gt; y = rand(Vec{3})
3-element Vec{3, Float64}:
 0.8942454282009883
 0.35311164439921205
 0.39425536741585077

julia&gt; A = x ⊗ y
3×3 Tensor{Tuple{3, 3}, Float64, 2, 9}:
 0.291503  0.115106   0.128518
 0.490986  0.193876   0.216466
 0.19547   0.0771855  0.086179</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L225-L252">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.:^" href="#Base.:^"><code>Base.:^</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">x^⊗(n)</code></pre><p><code>n</code>-fold tensor product of a tensor <code>x</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; x = rand(Vec{2})
2-element Vec{2, Float64}:
 0.32597672886359486
 0.5490511363155669

julia&gt; x^⊗(3)
2×2×2 Tensor{Tuple{Symmetry{Tuple{2, 2, 2}}}, Float64, 3, 4}:
[:, :, 1] =
 0.0346386  0.0583426
 0.0583426  0.098268

[:, :, 2] =
 0.0583426  0.098268
 0.098268   0.165515</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L263-L285">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Tensorial.@einsum" href="#Tensorial.@einsum"><code>Tensorial.@einsum</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@einsum [TensorType] expr</code></pre><p>Performs tensor computations using the <a href="https://en.wikipedia.org/wiki/Einstein_notation">Einstein summation convention</a>. Since <code>@einsum</code> cannot fully infer tensor symmetries, it is possible to annotate the returned tensor type (though this is not checked for correctness). This can help eliminate the computation of the symmetric part, improving performance.</p><p>The <code>expr</code> can be an anonymous function, in which case the arguments of the anonymous function are treated as free indices. If no arguments are provided, the free indices are inferred based on the order in which they appear from left to right.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; A = rand(Mat{3,3});

julia&gt; B = rand(Mat{3,3});

julia&gt; (@einsum C[i,j] := A[j,k] * B[k,i]) ≈ (A * B)&#39;
true

julia&gt; (@einsum c := A[i,j] * A[i,j]) ≈ A ⋅ A
true

julia&gt; (@einsum SymmetricSecondOrderTensor{3} D[i,j] := A[k,i] * A[k,j]) ≈ A&#39; * A
true

julia&gt; (@einsum (i,j) -&gt; A[j,k] * B[k,i]) ≈ (A * B)&#39;
true

julia&gt; (@einsum A[i,j] * A[i,j]) ≈ A ⋅ A
true

julia&gt; (@einsum SymmetricSecondOrderTensor{3} A[k,i] * A[k,j]) ≈ A&#39; * A
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/einsum.jl#L1-L36">source</a></section></article><h2 id="Symmetry"><a class="docs-heading-anchor" href="#Symmetry">Symmetry</a><a id="Symmetry-1"></a><a class="docs-heading-anchor-permalink" href="#Symmetry" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Tensorial.symmetric" href="#Tensorial.symmetric"><code>Tensorial.symmetric</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">symmetric(::AbstractSecondOrderTensor)
symmetric(::AbstractSecondOrderTensor, uplo)</code></pre><p>Compute the symmetric part of a second order tensor.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; x = rand(Mat{3,3})
3×3 Tensor{Tuple{3, 3}, Float64, 2, 9}:
 0.325977  0.894245  0.953125
 0.549051  0.353112  0.795547
 0.218587  0.394255  0.49425

julia&gt; symmetric(x)
3×3 SymmetricSecondOrderTensor{3, Float64, 6}:
 0.325977  0.721648  0.585856
 0.721648  0.353112  0.594901
 0.585856  0.594901  0.49425

julia&gt; symmetric(x, :U)
3×3 SymmetricSecondOrderTensor{3, Float64, 6}:
 0.325977  0.894245  0.953125
 0.894245  0.353112  0.795547
 0.953125  0.795547  0.49425</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L364-L390">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Tensorial.skew" href="#Tensorial.skew"><code>Tensorial.skew</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">skew(A)</code></pre><p>Compute skew-symmetric (anti-symmetric) part of a second order tensor.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; x = rand(Mat{3,3})
3×3 Tensor{Tuple{3, 3}, Float64, 2, 9}:
 0.325977  0.894245  0.953125
 0.549051  0.353112  0.795547
 0.218587  0.394255  0.49425

julia&gt; symmetric(x) + skew(x) ≈ x
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L447-L463">source</a></section><section><div><pre><code class="language-julia hljs">skew(ω::Vec{3})</code></pre><p>Construct a skew-symmetric (anti-symmetric) tensor <code>W</code> from a vector <code>ω</code> as</p><p class="math-container">\[\bm{\omega} = \begin{Bmatrix}
    \omega_1 \\
    \omega_2 \\
    \omega_3
\end{Bmatrix}, \quad
\bm{W} = \begin{bmatrix}
     0         &amp; -\omega_3 &amp;  \omega_2 \\
     \omega_3 &amp; 0          &amp; -\omega_1 \\
    -\omega_2 &amp;  \omega_1 &amp;  0
\end{bmatrix}\]</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; skew(Vec(1,2,3))
3×3 Tensor{Tuple{3, 3}, Int64, 2, 9}:
  0  -3   2
  3   0  -1
 -2   1   0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L467-L493">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Tensorial.minorsymmetric" href="#Tensorial.minorsymmetric"><code>Tensorial.minorsymmetric</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">minorsymmetric(::AbstractFourthOrderTensor) -&gt; SymmetricFourthOrderTensor</code></pre><p>Compute the minor symmetric part of a fourth order tensor.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; x = rand(Tensor{Tuple{3,3,3,3}});

julia&gt; minorsymmetric(x) ≈ @einsum (i,j,k,l) -&gt; (x[i,j,k,l] + x[j,i,k,l] + x[i,j,l,k] + x[j,i,l,k]) / 4
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L425-L437">source</a></section></article><h2 id="Rotation"><a class="docs-heading-anchor" href="#Rotation">Rotation</a><a id="Rotation-1"></a><a class="docs-heading-anchor-permalink" href="#Rotation" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Tensorial.rotmatx" href="#Tensorial.rotmatx"><code>Tensorial.rotmatx</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rotmatx(θ::Number)</code></pre><p>Construct rotation matrix around <code>x</code> axis.</p><p class="math-container">\[\bm{R}_x = \begin{bmatrix}
1 &amp; 0 &amp; 0 \\
0 &amp; \cos{\theta} &amp; -\sin{\theta} \\
0 &amp; \sin{\theta} &amp;  \cos{\theta}
\end{bmatrix}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L673-L685">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Tensorial.rotmaty" href="#Tensorial.rotmaty"><code>Tensorial.rotmaty</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rotmaty(θ::Number)</code></pre><p>Construct rotation matrix around <code>y</code> axis.</p><p class="math-container">\[\bm{R}_y = \begin{bmatrix}
\cos{\theta} &amp; 0 &amp; \sin{\theta} \\
0 &amp; 1 &amp; 0 \\
-\sin{\theta} &amp; 0 &amp; \cos{\theta}
\end{bmatrix}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L695-L707">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Tensorial.rotmatz" href="#Tensorial.rotmatz"><code>Tensorial.rotmatz</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rotmatz(θ::Number)</code></pre><p>Construct rotation matrix around <code>z</code> axis.</p><p class="math-container">\[\bm{R}_z = \begin{bmatrix}
\cos{\theta} &amp; -\sin{\theta} &amp; 0 \\
\sin{\theta} &amp;  \cos{\theta} &amp; 0 \\
0 &amp; 0 &amp; 1
\end{bmatrix}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L717-L729">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Tensorial.rotmat" href="#Tensorial.rotmat"><code>Tensorial.rotmat</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rotmat(θ::Number)</code></pre><p>Construct 2D rotation matrix.</p><p class="math-container">\[\bm{R} = \begin{bmatrix}
\cos{\theta} &amp; -\sin{\theta} \\
\sin{\theta} &amp;  \cos{\theta}
\end{bmatrix}\]</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; rotmat(deg2rad(30))
2×2 Tensor{Tuple{2, 2}, Float64, 2, 4}:
 0.866025  -0.5
 0.5        0.866025</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L595-L614">source</a></section><section><div><pre><code class="language-julia hljs">rotmat(θ::Vec{3}; sequence::Symbol)</code></pre><p>Convert Euler angles to rotation matrix. Use 3 characters belonging to the set (X, Y, Z) for intrinsic rotations, or (x, y, z) for extrinsic rotations.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; α, β, γ = map(deg2rad, rand(3));

julia&gt; rotmat(Vec(α,β,γ), sequence = :XYZ) ≈ rotmatx(α) * rotmaty(β) * rotmatz(γ)
true

julia&gt; rotmat(Vec(α,β,γ), sequence = :xyz) ≈ rotmatz(γ) * rotmaty(β) * rotmatx(α)
true

julia&gt; rotmat(Vec(α,β,γ), sequence = :XYZ) ≈ rotmat(Vec(γ,β,α), sequence = :zyx)
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L621-L641">source</a></section><section><div><pre><code class="language-julia hljs">rotmat(a =&gt; b)</code></pre><p>Construct rotation matrix rotating vector <code>a</code> to <code>b</code>. The norms of two vectors must be the same.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; a = normalize(rand(Vec{3}))
3-element Vec{3, Float64}:
 0.4829957515506539
 0.8135223859352438
 0.3238771859304809

julia&gt; b = normalize(rand(Vec{3}))
3-element Vec{3, Float64}:
 0.8605677447967596
 0.3398133016944055
 0.3794075336718636

julia&gt; R = rotmat(a =&gt; b)
3×3 Tensor{Tuple{3, 3}, Float64, 2, 9}:
 -0.00540771   0.853773   0.520617
  0.853773    -0.267108   0.446905
  0.520617     0.446905  -0.727485

julia&gt; R * a ≈ b
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L739-L768">source</a></section><section><div><pre><code class="language-julia hljs">rotmat(θ, n::Vec)</code></pre><p>Construct rotation matrix from angle <code>θ</code> and axis <code>n</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; x = Vec(1.0, 0.0, 0.0)
3-element Vec{3, Float64}:
 1.0
 0.0
 0.0

julia&gt; n = Vec(0.0, 0.0, 1.0)
3-element Vec{3, Float64}:
 0.0
 0.0
 1.0

julia&gt; rotmat(π/2, n) * x
3-element Vec{3, Float64}:
 6.123233995736766e-17
 1.0
 0.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L780-L805">source</a></section><section><div><pre><code class="language-julia hljs">rotmat(::Quaternion)</code></pre><p>Construct rotation matrix from quaternion.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; q = quaternion(π/4, Vec(0,0,1))
0.9238795325112867 + 0.0𝙞 + 0.0𝙟 + 0.3826834323650898𝙠

julia&gt; rotmat(q)
3×3 Tensor{Tuple{3, 3}, Float64, 2, 9}:
 0.707107  -0.707107  0.0
 0.707107   0.707107  0.0
 0.0        0.0       1.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/quaternion.jl#L237-L253">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Tensorial.rotate" href="#Tensorial.rotate"><code>Tensorial.rotate</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rotate(x, R::SecondOrderTensor)</code></pre><p>Rotate <code>x</code> using the rotation matrix <code>R</code>. This function preserves the symmetry of the matrix.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; R = rotmatz(π/4)
3×3 Tensor{Tuple{3, 3}, Float64, 2, 9}:
 0.707107  -0.707107  0.0
 0.707107   0.707107  0.0
 0.0        0.0       1.0

julia&gt; rotate(Vec(1,0,0), R)
3-element Vec{3, Float64}:
 0.7071067811865476
 0.7071067811865475
 0.0

julia&gt; A = rand(SymmetricSecondOrderTensor{3})
3×3 SymmetricSecondOrderTensor{3, Float64, 6}:
 0.325977  0.549051  0.218587
 0.549051  0.894245  0.353112
 0.218587  0.353112  0.394255

julia&gt; rotate(A, R) ≈ R * A * R&#39;
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/ops.jl#L812-L841">source</a></section><section><div><pre><code class="language-julia hljs">rotate(x::Vec, q::Quaternion)</code></pre><p>Rotate <code>x</code> by quaternion <code>q</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; v = Vec(1.0, 0.0, 0.0)
3-element Vec{3, Float64}:
 1.0
 0.0
 0.0

julia&gt; rotate(v, quaternion(π/4, Vec(0,0,1)))
3-element Vec{3, Float64}:
 0.7071067811865475
 0.7071067811865476
 0.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/quaternion.jl#L156-L175">source</a></section></article><h2 id="Continuum-mechanics"><a class="docs-heading-anchor" href="#Continuum-mechanics">Continuum mechanics</a><a id="Continuum-mechanics-1"></a><a class="docs-heading-anchor-permalink" href="#Continuum-mechanics" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Tensorial.vol-Tuple{Union{AbstractSecondOrderTensor{3, T}, AbstractSymmetricSecondOrderTensor{3, T}, AbstractMat{3, 3, T}} where T}" href="#Tensorial.vol-Tuple{Union{AbstractSecondOrderTensor{3, T}, AbstractSymmetricSecondOrderTensor{3, T}, AbstractMat{3, 3, T}} where T}"><code>Tensorial.vol</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">vol(A)</code></pre><p>Compute the volumetric part of a square tensor <code>A</code>. This is only available in 3D.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; x = rand(Mat{3,3})
3×3 Tensor{Tuple{3, 3}, Float64, 2, 9}:
 0.325977  0.894245  0.953125
 0.549051  0.353112  0.795547
 0.218587  0.394255  0.49425

julia&gt; vol(x)
3×3 Tensor{Tuple{3, 3}, Float64, 2, 9}:
 0.391113  0.0       0.0
 0.0       0.391113  0.0
 0.0       0.0       0.391113

julia&gt; vol(x) + dev(x) ≈ x
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/continuum_mechanics.jl#L1-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Tensorial.dev-Tuple{Union{AbstractSecondOrderTensor{3, T}, AbstractSymmetricSecondOrderTensor{3, T}, AbstractMat{3, 3, T}} where T}" href="#Tensorial.dev-Tuple{Union{AbstractSecondOrderTensor{3, T}, AbstractSymmetricSecondOrderTensor{3, T}, AbstractMat{3, 3, T}} where T}"><code>Tensorial.dev</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dev(::AbstractSecondOrderTensor{3})
dev(::AbstractSymmetricSecondOrderTensor{3})</code></pre><p>Compute the deviatoric part of a square tensor. This is only available in 3D.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; x = rand(Mat{3,3})
3×3 Tensor{Tuple{3, 3}, Float64, 2, 9}:
 0.325977  0.894245  0.953125
 0.549051  0.353112  0.795547
 0.218587  0.394255  0.49425

julia&gt; dev(x)
3×3 Tensor{Tuple{3, 3}, Float64, 2, 9}:
 -0.065136   0.894245   0.953125
  0.549051  -0.0380011  0.795547
  0.218587   0.394255   0.103137

julia&gt; tr(dev(x))
5.551115123125783e-17</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/continuum_mechanics.jl#L89-L113">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Tensorial.vonmises" href="#Tensorial.vonmises"><code>Tensorial.vonmises</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">vonmises(::AbstractSymmetricSecondOrderTensor{3})</code></pre><p>Compute the von Mises stress.</p><p class="math-container">\[q = \sqrt{\frac{3}{2} \mathrm{dev}(\bm{\sigma}) : \mathrm{dev}(\bm{\sigma})} = \sqrt{3J_2}\]</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; σ = rand(SymmetricSecondOrderTensor{3})
3×3 SymmetricSecondOrderTensor{3, Float64, 6}:
 0.325977  0.549051  0.218587
 0.549051  0.894245  0.353112
 0.218587  0.353112  0.394255

julia&gt; vonmises(σ)
1.3078860814690232</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/continuum_mechanics.jl#L164-L184">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Tensorial.stress_invariants" href="#Tensorial.stress_invariants"><code>Tensorial.stress_invariants</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">stress_invariants(::AbstractSecondOrderTensor{3})
stress_invariants(::AbstractSymmetricSecondOrderTensor{3})
stress_invariants(::Vec{3})</code></pre><p>Return a tuple storing stress invariants.</p><p class="math-container">\[\begin{aligned}
I_1(\bm{\sigma}) &amp;= \mathrm{tr}(\bm{\sigma}) \\
I_2(\bm{\sigma}) &amp;= \frac{1}{2} (\mathrm{tr}(\bm{\sigma})^2 - \mathrm{tr}(\bm{\sigma}^2)) \\
I_3(\bm{\sigma}) &amp;= \det(\bm{\sigma})
\end{aligned}\]</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; σ = rand(SymmetricSecondOrderTensor{3})
3×3 SymmetricSecondOrderTensor{3, Float64, 6}:
 0.325977  0.549051  0.218587
 0.549051  0.894245  0.353112
 0.218587  0.353112  0.394255

julia&gt; I₁, I₂, I₃ = stress_invariants(σ)
(1.6144775244804341, 0.2986572249840249, -0.0025393241133506677)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/continuum_mechanics.jl#L190-L217">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Tensorial.deviatoric_stress_invariants" href="#Tensorial.deviatoric_stress_invariants"><code>Tensorial.deviatoric_stress_invariants</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">deviatoric_stress_invariants(::AbstractSecondOrderTensor{3})
deviatoric_stress_invariants(::AbstractSymmetricSecondOrderTensor{3})
deviatoric_stress_invariants(::Vec{3})</code></pre><p>Return a tuple storing deviatoric stress invariants.</p><p class="math-container">\[\begin{aligned}
J_1(\bm{\sigma}) &amp;= \mathrm{tr}(\mathrm{dev}(\bm{\sigma})) = 0 \\
J_2(\bm{\sigma}) &amp;= \frac{1}{2} \mathrm{tr}(\mathrm{dev}(\bm{\sigma})^2) \\
J_3(\bm{\sigma}) &amp;= \frac{1}{3} \mathrm{tr}(\mathrm{dev}(\bm{\sigma})^3)
\end{aligned}\]</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; σ = rand(SymmetricSecondOrderTensor{3})
3×3 SymmetricSecondOrderTensor{3, Float64, 6}:
 0.325977  0.549051  0.218587
 0.549051  0.894245  0.353112
 0.218587  0.353112  0.394255

julia&gt; J₁, J₂, J₃ = deviatoric_stress_invariants(σ)
(0.0, 0.5701886673667987, 0.14845380911930367)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KeitaNakamura/Tensorial.jl/blob/7912c4a0e0e9b6bf612825df2940273cced9d69f/src/continuum_mechanics.jl#L233-L259">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Constructors/">« Constructing tensors</a><a class="docs-footer-nextpage" href="../Voigt form/">Voigt Form »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Thursday 22 May 2025 04:28">Thursday 22 May 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
